<header class="flex center">
    <button class="btn btn-circle bg-pink"><i class="fab fa-angular"></i></button>
    <small ng-if="contactsCtrl.user.email" class="bg-pink">{{contactsCtrl.user.email}}</small>
    <button ng-if="contactsCtrl.user.email" class="btn btn-circle bg-pink"><i class="fas fa-sign-out-alt" ng-click="contactsCtrl.logout()"></i></button>
</header>
<main ng-if="!contactsCtrl.user.email" class="flex center">
    <create-user-form user="contactsCtrl.user">
    </create-user-form>
</main>
<main ng-if="contactsCtrl.user.email" class="flex center space-a">
    <section class="contacts-list flex center">
        <user-list
            ng-if="contactsCtrl.contacts.length > 0"
            class="flex center"
            users="contactsCtrl.contacts"
            ng-cloak>
        </user-list>
        <div
            ng-if="contactsCtrl.contacts.length < 1"
            class="flex center add-new-user-container bg-purple greem">
            <button ng-click="contactsCtrl.addTest()" class="btn btn-circle bg-green purple"><i class="fa fa-plus" aria-hidden="true"></i>
            </button>
            <small class="bg-green purple"><stron>Añadir usuario test</stron></small>
        </div>
    </section>

    <aside class="flex column center">
        <div
            ng-if="contactsCtrl.edit == 'init'"
            class="flex center add-new-user-container bg-purple pink">
            <button ng-click="contactsCtrl.edit='personal'" class="btn btn-circle bg-pink white"><i class="fa fa-plus" aria-hidden="true"></i>
            </button>
            <small class="bg-pink white"><stron>Añadir nuevo usuario</stron></small>
        </div>
        <div ng-if="contactsCtrl.edit != 'init'"  class="edit-container">
            <div class="edit-selector flex center">
                <label
                class="highlight"
                ng-click="contactsCtrl.edit='personal'"
                ng-class="{active: contactsCtrl.edit=='personal'}">Info</label>
                <label
                class="highlight"
                ng-click="contactsCtrl.edit='comics'"
                ng-class="{active: contactsCtrl.edit=='comics'}">Comics</label>
                <label
                class="highlight"
                ng-click="contactsCtrl.edit='giphy'"
                ng-class="{active: contactsCtrl.edit=='giphy'}">Gifs</label>
            </div>

            <div ng-if="contactsCtrl.edit=='comics'">
                <marvel-manager favorite-list="contactsCtrl.newContact.favoriteList.marvel"></marvel-manager>
            </div>
            <div ng-if="contactsCtrl.edit=='giphy'">
                <giphy-manager favorite-list="contactsCtrl.newContact.favoriteList.giphy"></giphy-manager>
            </div>

            <form ng-if="contactsCtrl.edit=='personal'" class="form-group flex center column space-b add-new-user-container pink">
                <div class="form-header flex center">
                    <label class="highlight">Datos Personales: </label>
                </div>
                <div class="flex column input-group">
                    <label class="title purple">Nombre de usuario:</label>
                    <div class="flex center">
                        <input ng-minlength="5" type="text" name="newContact.name" id="newContact.name" ng-model="contactsCtrl.newContact.name" ng-change="" ng-required="true" placeholder="Nombre">
                        <small class="checked" ng-if="contactsCtrl.newContact.name.$valid"><i class="fa fa-check" aria-hidden="true"></i></small>
                    </div>
                    <div class="flex">
                        <small class="error-text" ng-if="contactsCtrl.newContact.name.$invalid && contactsCtrl.newContact.name.$touched">Tu nombre de usuario debe contener al menos 10 carateres</small>
                    </div>
                </div>
                <div class="flex column input-group">
                    <label class="title purple">Email de contacto:</label>
                    <div class="flex center">
                        <input ng-minlength="5" type="text" name="newContact.email" id="newContact.email" ng-model="contactsCtrl.newContact.email" ng-change="" ng-required="true" placeholder="Email de contacto">
                        <small class="checked" ng-if="contactsCtrl.newContact.email.$valid"><i class="fa fa-check" aria-hidden="true"></i></small>
                    </div>
                    <div class="flex">
                        <small class="error-text" ng-if="contactsCtrl.newContact.email.$invalid && contactsCtrl.newContact.email.$touched">Tu nombre de usuario debe contener al menos 10 carateres</small>
                    </div>
                </div>
                <div class="flex column input-group">
                        <label class="title purple">Teléfono de contacto:</label>
                        <div class="flex center">
                        <input ng-minlength="5" type="number" name="newContact.phone" id="newContact.phone" ng-model="contactsCtrl.newContact.phone" ng-change="" ng-required="true" placeholder="Número de teléfono">
                        <small class="checked" ng-if="contactsCtrl.newContact.phone.$valid"><i class="fa fa-check" aria-hidden="true"></i></small>
                    </div>
                    <div class="flex">
                        <small class="error-text" ng-if="contactsCtrl.newContact.phone.$invalid && contactsCtrl.newContact.phone.$touched">Tu nombre de usuario debe contener al menos 10 carateres</small>
                    </div>
                </div>
                <div class="flex column input-group">
                        <label class="title purple">Imagen de perfil (URL):</label>
                    <div class="flex center">
                        <input ng-minlength="5" type="text" name="newContact.photo" id="newContact.photo" ng-model="contactsCtrl.newContact.photo" ng-change="" ng-required="true" placeholder="URL - Imagen de perfil">
                        <small class="checked" ng-if="contactsCtrl.newContact.photo.$valid"><i class="fa fa-check" aria-hidden="true"></i></small>
                    </div>
                    <div class="flex">
                        <small class="error-text" ng-if="contactsCtrl.newContact.photo.$invalid && contactsCtrl.newContact.photo.$touched">Tu nombre de usuario debe contener al menos 10 carateres</small>
                    </div>
                </div>
                <button class="btn bg-pink white new-user-submit" ng-click="contactsCtrl.addContact()">Añadir</button>
                <div class="separator flex center">
                    <hr><span class="pink">Or create with</span><hr>
                </div>
                <div class="social-icons flex center">
                    <button class="btn btn-circle bg-facebook white"><i class="fab fa-facebook-f"></i>
                    </button>
                    <button class="btn btn-circle bg-googleplus white"><i class="fab fa-google-plus-g" aria-hidden="true"></i>
                    </button>
                    <button class="btn btn-circle bg-github white"><i class="fab fa-github" aria-hidden="true"></i>
                    </button>
                </div>
            </form>
        </div>
    </aside>
</main>